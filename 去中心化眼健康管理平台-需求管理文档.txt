去中心化眼健康管理平台 - 需求分析文档
版本：v1.0
目录
1. 概要与目标
2. 利益相关者
3. 核心能力与范围（功能列表）
4. 用户故事（关键）
5. 非功能性需求（安全/性能/合规）
6. MVP（最小可行产品）与优先级
7. 验收标准（Acceptance Criteria）
8. 风险与缓解措施
9. 项目里程碑（高层）
10. 附录：术语与引用



1. 概要与目标
1.1 项目目标（高层）
* 建立去中心化、可溯源的眼健康管理平台，保护用户隐私并使用户自主掌控眼健康档案。
* 提供基于多模态智能体的个性化护眼产品推荐与健康提醒。
* 支持护眼产品全链路溯源、订单/售后智能合约自动化，以及诊疗档案互通与远程会诊能力。
1.2 业务度量目标（示例）
* 平台安全合规上线前：完成隐私合规评估与合约审计。
* 初期用户留存（MVP 3 个月内）：目标 MAU 达到内测目标人数（由你指定）。
* 推荐系统质量：初版用户接受率（点击/购买）≥ 40%（可调整）。

2. 利益相关者
* 终端用户（儿童家长、职场用户、中老年人）
* 医疗机构 / 眼科医生 / 检查机构
* 护眼产品厂商 / 供应链方
* 支付与物流服务商
* 法务与合规模块（医疗数据合规顾问）
* 平台运营与技术团队

3. 核心能力与范围（功能模块，包含说明）
（优先级：High / Medium / Low）
A. 用户与数据管理（High）
* 用户注册/登录（支持去中心化身份 DID 与传统账号/邮箱/密码）。
* 档案上传与管理：支持验光单、检查报告、用药记录、可穿戴设备数据、用眼习惯日志。
* 数据授权管理：用户可以按粒度、时间窗口授权/撤销第三方访问。
B. 区块链与溯源（High）
* 链上写入：写入数据哈希（SHA-256）与关键事件索引，链上不可篡改证明。
* 产品溯源：为每一批次/产品生成二维码，扫码可查看采购-检测-认证记录与证书哈希。
C. 多模态智能体与推荐（High）
* 输入：验光数据（OCR/手工录入）、语音、图像（检查影像）、可穿戴时间序列、用户行为。
* 输出：个性化产品推荐、使用禁忌提示、复查/用药提醒。
D. 远程诊疗与档案互通（Medium）
* 档案随授权互通，支持医院/诊所接入（FHIR/HIS 适配器）。
* 远程会诊功能：预约、视频/文字咨询、诊后记录留痕。
E. 交易与售后（High）
* 商品下单、支付（链上事件 + 链下支付桥接）。
* 智能合约自动化售后（例如：90 天无效退款机制触发）。
F. 平台运维与生态（Medium）
* 日志/审计、监控告警、治理面板、多语言支持、SDK/第三方接入文档。

4. 用户故事（关键示例）
* 作为用户，我想上传验光单并把其上链哈希保存，这样就能控制谁能查阅我的报告。
* 作为家长，我想扫码查看护眼产品的原料采购和检测报告的溯源信息。
* 作为用户，我希望平台根据我的熬夜与佩戴隐形眼镜习惯给出具体的护眼建议与禁忌提示。
* 作为用户，在满足退款规则时，我希望智能合约能够自动发起退款流程。

5. 非功能性需求（NFR）
* 隐私与安全：敏感数据加密存储，链上只写哈希；密钥由 KMS/HSM 管理。
* 可用性：MVP 目标 99.5% 可用（后续可提高）。
* 性能：推荐实时响应 <300-500ms（或采用异步通知）。
* 可扩展性：微服务 + Kubernetes，支持横向扩展。
* 合规性：在目标市场进行医疗数据合规评估（如 GDPR / 当地法规）。
* 审计：链上事件 + 后端操作审计日志（不可删改）。

6. MVP（优先交付项）与验收
MVP 功能清单（交付顺序）
1. 用户管理（DID 基础 / 邮箱登录） - High
2. 报告上传 + 本地加密 + S3/MinIO 存储 + 上链哈希写入（Fabric） - High。
3. 基础推荐引擎（基于规则+轻量 ML 模型）与推荐展示 - High。
4. 产品扫码溯源展示（展示链上 trace） - High。
5. 订单/支付基本流程 + 售后智能合约触发（退款规则原型） - High。
MVP 验收标准（示例）
* 上传报告后 1 分钟内能在链上查到哈希记录。
* 扫码页面在平均公网条件下 5 秒内加载溯源内容。
* 推荐接口在 95% 请求下响应 < 1s（初始可放宽）。
* 智能合约在满足退款触发条件后能产生可追踪的链上事件并通知退款流程（链下支付需配合支付方）。

7. 风险与缓解
* 区块链交易成本/写入延迟 → 只写入哈希与索引，选许可链（Hyperledger Fabric）降低成本。
* 医疗数据合规风险 → 提早咨询法务并签署数据交换协议。
* 第三方供应链数据难以获取 → 先做厂商 PoC，逐步扩大接入。
* AI 模型效果不足 → 初期采用规则+轻量模型，并通过线上 A/B 迭代提升。

8. 项目里程碑（建议高层）
* 阶段 1（4 周）：需求确认、PoC 环境搭建（Fabric + MinIO + PostgreSQL + K8s）
* 阶段 2（8-10 周）：MVP 开发（用户、上传、上链、推荐、扫码、订单）
* 阶段 3（8-12 周）：远程会诊、HIS 集成、多模态模型优化、合约审计
* 阶段 4（14-18 周）：公测、性能优化、合规与上线准备

9. 附录：术语（简短）
* DID：去中心化身份（Decentralized Identifier）
* PoC：概念验证（Proof of Concept）
* IPFS：星际文件系统（InterPlanetary File System）
* Fabric：Hyperledger Fabric（许可链实现）

